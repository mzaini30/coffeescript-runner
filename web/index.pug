extends base.pug 

block isi 
  div(v-scope @vue:mounted="init")
    .m-3 
      .btn.btn-primary(@click='tambah') New
      p {{list}}
  script
    :coffee(bare="false")
      PetiteVue.createApp({
        list: []
        init: =>
          if localStorage.data_coffee
            @list = JSON.parse localStorage.data_coffee
        tambah: =>
          {value} = await Swal.fire
            inputLabel: 'Add new app'
            input: 'text'
          
          if value
            data = localStorage.data_coffee
            data_baru =
              id: Math.random()
              judul: value
            
            if data
              data = JSON.parse data
              data.push data_baru
              @list = data
              localStorage.data_coffee = JSON.stringify data
            else
              @list = [data_baru]
              localStorage.data_coffee = JSON.stringify [data_baru]
      }).mount()